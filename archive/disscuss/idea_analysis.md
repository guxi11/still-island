# App Idea: 手机防沉迷悬浮窗 (Anti-Addiction PiP Tool)

## 1. 核心概念 (Core Concept)

*   **问题 (Problem):** 用户沉迷手机往往是因为 APP 的沉浸式设计（如无限滚动、全屏）让他们忽略了时间流逝和周围环境，如同封闭了窗户的赌场。
*   **解决方案 (Solution):** 利用 iOS 的 **画中画 (Picture-in-Picture, PiP)** 功能，在手机屏幕上悬浮一个“窗户”或“不和谐的元素”。
*   **功能 (Features):**
    *   **打破沉浸:** 在悬浮窗中展示现实信息，如当前时间、倒计时（番茄钟）、实景天气、机会成本（例如：“你已刷了30分钟”）。
    *   **觉知唤醒:** 作为“认知锚点” (Cognitive Anchor)，提醒用户保持对当下的觉知。
    *   **交互控制:** 用户可调整悬浮窗大小，利用播放/暂停按钮进行简单控制（刷新内容、切换样式）。
    *   **数据统计:** 记录悬浮窗开启时长，提供统计视图，量化用户的“清醒时间”。

## 2. 有效性分析 (Effectiveness Analysis)

*   **理论支持:**
    *   **打破心流 (Flow Breaking):** 视觉上的强制插入能打断负面的沉浸状态。
    *   **损失厌恶 (Loss Aversion):** 可视化“机会成本”比单纯展示时间更能驱动用户放下手机。
*   **潜在挑战:**
    *   **习惯化 (Habitution):** 用户可能对恒定的视觉刺激产生“视而不见”的效果。
    *   **对策:** 内容需具备**动态性**（随机名言、紧迫感倒计时、颜色变化），保持新鲜感和警示性。

## 3. 技术可行性 (Technical Feasibility - iOS)

*   **核心实现:** 使用 `AVPictureInPictureController` 结合 `AVSampleBufferDisplayLayer`。
    *   **机制:** 不是播放预制视频，而是将 App 内部的 `UIView` 实时渲染为视频帧 (CMSampleBuffer) 传输给 PiP 播放器。
*   **交互:**
    *   支持系统原生的双指缩放。
    *   利用 `MPRemoteCommandCenter` 拦截播放控制事件（Play/Pause/Next）来实现逻辑交互。
*   **后台保活:** 开启 PiP 时 App 具备后台音频/视频权限，可用于计时统计和数据更新。
*   **审核风险:** 需避免被判定为单纯的后台保活 Hack，需强调其冥想/辅助工具属性，并确保画面有动态元素。

## 4. 命名构思 (Naming)

### 候选方案
*   **觉知 (Juezhi):** 禅意，直击核心。
*   **新窗 (Xinchuang):** 朴实，对应“窗户”隐喻。
*   **Lucid (清醒/清明):** 取自 Lucid Dream (清明梦)，寓意在数字梦境中保持清醒。
*   **Totem (图腾):** 取自《盗梦空间》，作为区分虚拟与现实的信物。
*   **Anchor (锚点):** 信息洪流中的现实定位点。
*   **Breach (破壁):** 打破“第四面墙”。

## 5. 开发计划 (Next Steps)

*   **MVP:** 搭建 iOS 工程 -> 实现动态 UIView (显示时间) -> 将 UIView 转化为实时 PiP 视频流。
